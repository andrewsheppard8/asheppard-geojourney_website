{% extends "base.html" %}

{% block title %}Food Map{% endblock %}

{% block content %}
<section class="map-page">
    <h1>Map of Food & Drink Locations</h1>

    <!-- Controls -->
    <div id="controls">
        <!-- Cuisine filter -->
        <div class="control-group">
            <label for="cuisineFilter">Cuisine:</label>
            <select id="cuisineFilter">
                <option value="All">All</option>
            </select>
        </div>

        <!-- Rating slider -->
        <div class="control-group">
            <label for="ratingFilter">Min Rating: <span id="ratingValue">0</span></label>
            <input type="range" id="ratingFilter" min="0" max="5" step="0.1" value="0">
        </div>

        <!-- Geocode search -->
        <div class="control-group">
            <label for="address-input">Search location:</label>
            <div class="search-row">
                <input type="text" id="address-input" placeholder="Enter city or address" />
                <button id="geocode-btn">Go</button>
            </div>
        </div>
    </div>

    <!-- Map container -->
    <div id="map" style="width: 100%; height: 80vh;"></div>

    <!-- Map legend -->
<div id="legend">
    <h4>Rating Legend</h4>
    <div><span class="legend-color" style="background:#2E7D32"></span> 4.5 - 5.0</div>
    <div><span class="legend-color" style="background:#FFB300"></span> 4.0 - 4.4</div>
    <div><span class="legend-color" style="background:#D32F2F"></span> < 4.0</div>
</div>
</section>

<!-- MapLibre CSS -->
<link href="https://unpkg.com/maplibre-gl@2.4.0/dist/maplibre-gl.css" rel="stylesheet" />

<!-- Optional: your custom styles -->
<link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">

<!-- MapLibre JS -->
<script src="https://unpkg.com/maplibre-gl@2.4.0/dist/maplibre-gl.js"></script>

<!-- Your map JS -->
<script src="{{ url_for('static', filename='js/food_map.js') }}"></script>

{% endblock %}